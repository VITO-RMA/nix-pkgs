diff '--color=auto' -Naur a/src/jmorecfg.h b/src/jmorecfg.h
--- a/src/jmorecfg.h	2025-08-27 03:11:07.000000000 +0200
+++ b/src/jmorecfg.h	2025-11-29 15:16:08.986779694 +0100
@@ -199,7 +199,13 @@
  * Defining HAVE_BOOLEAN before including jpeglib.h should make it work.
  */
 
-#ifndef HAVE_BOOLEAN
+#if defined(_WIN32) && !defined(HAVE_BOOLEAN)
+#ifndef __RPCNDR_H__
+typedef unsigned char boolean;
+#endif
+#define HAVE_BOOLEAN
+#endif
+#if !defined(HAVE_BOOLEAN) && !defined(__RPCNDR_H__)
 typedef int boolean;
 #endif
 #ifndef FALSE                   /* in case these macros already exist */
